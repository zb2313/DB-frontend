{"remainingRequest":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\apps_home\\Download\\github\\DB-frontend\\project1\\src\\views\\tickets\\detail.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\src\\views\\tickets\\detail.vue","mtime":1626174765740},{"path":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\apps_home\\Download\\github\\DB-frontend\\project1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnNlbGVjdCB7DQogIHdpZHRoOiA0MCU7DQogIGhlaWdodDogNDBweDsNCiAgbWFyZ2luOiAwIGF1dG8gMzBweCBhdXRvOw0KfQ0KLnNlbGVjdCAuZWwtYnV0dG9uIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCn0NCi5zZWFyY2ggew0KICBtYXJnaW4tdG9wOiAzMHB4Ow0KICBtYXJnaW4tYm90dG9tOiAzMHB4Ow0KfQ0KLnZlaGljbGUtaW5mbyB7DQogIG1hcmdpbi10b3A6IDEwcHg7DQogIGhlaWdodDogNTAwcHg7DQp9DQouY2FyZHN0eWxlIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTIwcHg7DQogIG1hcmdpbi10b3A6IDIwcHg7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQp9DQoNCi50aW1lX3BsYWNlIHsNCiAgbWFyZ2luLXRvcDogMTBweDsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgbWFyZ2luLWxlZnQ6IDMwcHg7DQogIG1hcmdpbi1yaWdodDogMzBweDsNCiAgZmxvYXQ6IGxlZnQ7DQogIGhlaWdodDogMTAwJTsNCiAgd2lkdGg6IDcwcHg7DQp9DQouZGV0YWlsIHsNCiAgbWFyZ2luLXRvcDogMTBweDsNCiAgbWFyZ2luLWxlZnQ6IDUwcHg7DQogIGZsb2F0OiBsZWZ0Ow0KfQ0KLmVsLW1lbnUgew0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KLmVsLXN1Ym1lbnVfX3RpdGxlIHsNCiAgZm9udC1zaXplOiAxNnB4Ow0KICBtYXJnaW4tbGVmdDogMHB4Ow0KICBwYWRkaW5nLWxlZnQ6IDBweDsNCn0NCi5lbC1jaGVja2JveF9fbGFiZWwgew0KICBsaW5lLWhlaWdodDogMjVweDsNCiAgZm9udC1zaXplOiAxNXB4Ow0KfQ0KDQoudGltZSB7DQogIGZvbnQtc2l6ZTogMzBweDsNCiAgbWFyZ2luLXRvcDogMHB4Ow0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICBtYXJnaW4tbGVmdDogMHB4Ow0KICBmbG9hdDogbGVmdDsNCiAgaGVpZ2h0OiAxMDAlOw0KfQ0KLnByaWNlIHsNCiAgZm9udC1zaXplOiAzMHB4Ow0KICBjb2xvcjogIzA0Mjc1ODsNCiAgd2lkdGg6IDUwcHg7DQogIGhlaWdodDogMTAwJTsNCiAgbWFyZ2luLWxlZnQ6IDYwcHg7DQogIG1hcmdpbi1yaWdodDogNjBweDsNCiAgbWFyZ2luLXRvcDogMTBweDsNCiAgZmxvYXQ6IGxlZnQ7DQp9DQouaGVhZGVyIHsNCiAgd2lkdGg6IDEwMHB4Ow0KICBoZWlnaHQ6IDEwMHB4Ow0KICBmbG9hdDogbGVmdDsNCiAgbWFyZ2luLXJpZ2h0OiAyMHB4Ow0KICBtYXJnaW4tdG9wOiAxMHB4Ow0KfQ0KLmJvZHkgew0KICBmbG9hdDogbGVmdDsNCiAgd2lkdGg6IDc1MHB4Ow0KICBoZWlnaHQ6IDEwMHB4Ow0KfQ0KLmVsLWhlYWRlciB7DQogIGJhY2tncm91bmQtY29sb3I6ICNiM2MwZDE7DQogIGNvbG9yOiAjMzMzOw0KICBsaW5lLWhlaWdodDogNjBweDsNCn0NCg0KLmVsLWFzaWRlIHsNCiAgY29sb3I6ICMzMzM7DQp9DQouanVtcF90b19kZXRhaWx7DQogIGZsb2F0OiBsZWZ0Ow0KICBtYXJnaW4tbGVmdDogMTBweDsNCiAgbWFyZ2luLXRvcDogNTBweDsNCn0NCg=="},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/views/tickets","sourcesContent":["<template>\r\n  <el-container direction=\"vertical\">\r\n    <Header activeIndex=\"3\" />\r\n    <el-container>\r\n      <el-aside width=\"250px\" style=\"background-color: rgb(238, 241, 246)\">\r\n        <el-menu :default-openeds=\"['1', '2']\">\r\n          <el-submenu index=\"1\">\r\n            <template slot=\"title\"\r\n              ><i class=\"el-icon-cold-drink\"></i>交通公司</template\r\n            >\r\n            <el-menu-item-group>\r\n              <el-checkbox-group class=\"checkbox_style\" v-model=\"form.type\" v-for=\"item in show_company\" :key=\"item\">\r\n                <el-checkbox :label=\"item\" name=\"type\"></el-checkbox>\r\n                \r\n              </el-checkbox-group>\r\n            </el-menu-item-group>\r\n          </el-submenu>\r\n\r\n          <el-submenu index=\"2\">\r\n            <template slot=\"title\"\r\n              ><i class=\"el-icon-cold-drink\"></i>价格区间</template\r\n            >\r\n            <el-menu-item-group>\r\n              <el-checkbox-group class=\"checkbox_style\" v-model=\"form.type\">\r\n                <el-checkbox label=\"2000以上\" name=\"type\"></el-checkbox>\r\n                <el-checkbox label=\"1000-2000\" name=\"type\"></el-checkbox>\r\n                <el-checkbox label=\"500-1000\" name=\"type\"></el-checkbox>\r\n                <el-checkbox label=\"500以下\" name=\"type\"></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-menu-item-group>\r\n          </el-submenu>\r\n\r\n          <div class=\"select\">\r\n            <el-button type=\"primary\" @click=\"onSubmit\">筛选</el-button>\r\n          </div>\r\n        </el-menu>\r\n      </el-aside>\r\n\r\n      <el-container>\r\n        <el-main>\r\n          <div class=\"search\">\r\n            <el-form :model=\"formInline\">\r\n              <el-row>\r\n                <el-col :span=\"5\"\r\n                  ><el-form-item>\r\n                    <el-select\r\n                      v-model=\"formInline.ticket_type\"\r\n                      placeholder=\"机票\"\r\n                      @change=\"typechange\"\r\n                    >\r\n                      <el-option label=\"机票\" value=\"1\"></el-option>\r\n                      <el-option label=\"火车票\" value=\"2\"></el-option>\r\n                    </el-select> </el-form-item\r\n                ></el-col>\r\n\r\n                <el-col :span=\"5\"\r\n                  ><el-form-item>\r\n                    <el-autocomplete\r\n                      v-model=\"formInline.state1\"\r\n                      :fetch-suggestions=\"querySearch\"\r\n                      placeholder=\"出发地\"\r\n                      @select=\"handleSelect\"\r\n                    ></el-autocomplete> </el-form-item\r\n                ></el-col>\r\n\r\n                <el-col :span=\"5\">\r\n                  <el-form-item>\r\n                    <el-autocomplete\r\n                      v-model=\"formInline.state2\"\r\n                      :fetch-suggestions=\"querySearch\"\r\n                      placeholder=\"目的地\"\r\n                      @select=\"handleSelect\"\r\n                    ></el-autocomplete>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"5\">\r\n                  <el-form-item>\r\n                    <el-select\r\n                      v-model=\"formInline.seat_type\"\r\n                       :placeholder=\"holder\"\r\n                    >\r\n                      <el-option\r\n                        v-if=\"formInline.ticket_type == 1\"\r\n                        label=\"经济舱\"\r\n                        value=\"1\"\r\n                      ></el-option>\r\n                      <el-option v-else label=\"一等座\" value=\"1\"></el-option>\r\n                      <el-option\r\n                        v-if=\"formInline.ticket_type == 1\"\r\n                        label=\"商务舱\"\r\n                        value=\"2\"\r\n                      ></el-option>\r\n                      <el-option v-else label=\"二等座\" value=\"2\"></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"3\">\r\n                  <el-button\r\n                    style=\"width: 100%\"\r\n                    type=\"primary\"\r\n                    @click=\"newQuery\"\r\n                    icon=\"el-icon-search\"\r\n                    >查询</el-button\r\n                  >\r\n                </el-col>\r\n              </el-row>\r\n            </el-form>\r\n          </div>\r\n\r\n          <el-card\r\n            class=\"cardstyle\"\r\n            v-model=\"tableData\"\r\n            v-for=\"(item,index) in tableData\"\r\n            :key=\"item.vehicle_id\"\r\n          >\r\n            <div class=\"header\">\r\n              <div>{{ item.company_name }}</div>\r\n              <br />\r\n              <div>{{ item.vehicle_id }}</div>\r\n            </div>\r\n            <div class=\"body\">\r\n              <div class=\"time_place\">\r\n                <div class=\"time\">\r\n                  {{ item.start_time }}\r\n                  <br />\r\n                  <div style=\"font-size: 14px\">{{ item.from }}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"time_place\"><br />----------</div>\r\n              <div class=\"time_place\">\r\n                <div class=\"time\">\r\n                  {{ item.end_time }}\r\n                  <br />\r\n                  <div style=\"font-size: 14px\">{{ item.to }}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"price\">￥{{ item.price }}</div>\r\n              <div class=\"detail\">\r\n                <el-button type=\"primary\" class=\"jump_to_detail\" @click=\"onSubmit(index)\"\r\n                  >查看详情 ></el-button\r\n                >\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<style>\r\n.select {\r\n  width: 40%;\r\n  height: 40px;\r\n  margin: 0 auto 30px auto;\r\n}\r\n.select .el-button {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.search {\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n.vehicle-info {\r\n  margin-top: 10px;\r\n  height: 500px;\r\n}\r\n.cardstyle {\r\n  width: 100%;\r\n  height: 120px;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.time_place {\r\n  margin-top: 10px;\r\n  margin-bottom: 20px;\r\n  margin-left: 30px;\r\n  margin-right: 30px;\r\n  float: left;\r\n  height: 100%;\r\n  width: 70px;\r\n}\r\n.detail {\r\n  margin-top: 10px;\r\n  margin-left: 50px;\r\n  float: left;\r\n}\r\n.el-menu {\r\n  margin-bottom: 20px;\r\n}\r\n.el-submenu__title {\r\n  font-size: 16px;\r\n  margin-left: 0px;\r\n  padding-left: 0px;\r\n}\r\n.el-checkbox__label {\r\n  line-height: 25px;\r\n  font-size: 15px;\r\n}\r\n\r\n.time {\r\n  font-size: 30px;\r\n  margin-top: 0px;\r\n  margin-bottom: 20px;\r\n  margin-left: 0px;\r\n  float: left;\r\n  height: 100%;\r\n}\r\n.price {\r\n  font-size: 30px;\r\n  color: #042758;\r\n  width: 50px;\r\n  height: 100%;\r\n  margin-left: 60px;\r\n  margin-right: 60px;\r\n  margin-top: 10px;\r\n  float: left;\r\n}\r\n.header {\r\n  width: 100px;\r\n  height: 100px;\r\n  float: left;\r\n  margin-right: 20px;\r\n  margin-top: 10px;\r\n}\r\n.body {\r\n  float: left;\r\n  width: 750px;\r\n  height: 100px;\r\n}\r\n.el-header {\r\n  background-color: #b3c0d1;\r\n  color: #333;\r\n  line-height: 60px;\r\n}\r\n\r\n.el-aside {\r\n  color: #333;\r\n}\r\n.jump_to_detail{\r\n  float: left;\r\n  margin-left: 10px;\r\n  margin-top: 50px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport Header from \"@/components/Header.vue\";\r\nexport default {\r\n  components: {\r\n    Header,\r\n  },\r\n  data() {\r\n    return {\r\n      formInline: {\r\n        user: \"\",\r\n        ticket_type: \"\",\r\n        restaurants: [],\r\n        seat_type: \"\",\r\n        state1: \"\",\r\n        state2: \"\",\r\n      },\r\n\r\n      form: {\r\n        type: [],\r\n      },\r\n      tableData: [],\r\n      /*  tableData: {\r\n          company_name:'',\r\n          vehicle_id:'',\r\n          start_time:'',\r\n          end_time:'',\r\n          logo_url: require('')\r\n\r\n        } */\r\n      holder:\"经济舱\",\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit(index){\r\n      console.log(index);\r\n    },\r\n    newQuery(){\r\n      if(this.formInline.ticket_type&&this.formInline.seat_type&&this.formInline.state1&&this.formInline.state2){\r\n      this.$router.push({\r\n        path:`/tickets/detail`,\r\n        query:{\r\n          ticket_type:this.formInline.ticket_type,\r\n          from:this.formInline.state1,\r\n          to:this.formInline.state2,\r\n          seat_type:this.formInline.seat_type,\r\n        }\r\n        })\r\n\r\n    }},\r\n    querySearch(queryString, cb) {\r\n      var restaurants = this.restaurants;\r\n      var results = queryString\r\n        ? restaurants.filter(this.createFilter(queryString))\r\n        : restaurants;\r\n      // 调用 callback 返回建议列表的数据\r\n      cb(results);\r\n    },\r\n    createFilter(queryString) {\r\n      return (restaurant) => {\r\n        return (\r\n          restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) ===\r\n          0\r\n        );\r\n      };\r\n    },\r\n    loadAll2() {\r\n      return [\r\n        { value: \"北京\", address: \"长宁区新渔路144号\" },\r\n        { value: \"上海\", address: \"上海市长宁区淞虹路661号\" },\r\n        { value: \"兰州\", address: \"上海市普陀区真北路988号创邑金沙谷6号楼113\" },\r\n        { value: \"重庆\", address: \"天山西路438号\" },\r\n        {\r\n          value: \"成都\",\r\n          address: \"上海市长宁区金钟路968号1幢18号楼一层商铺18-101\",\r\n        },\r\n        { value: \"广东\", address: \"上海市长宁区金钟路633号\" },\r\n        { value: \"玉林\", address: \"上海市嘉定区曹安公路曹安路1685号\" },\r\n      ];\r\n    },\r\n    handleSelect(item) {\r\n      console.log(item);\r\n    },\r\n    typechange(val) {\r\n      if (val == \"2\") {\r\n        this.holder=\"一等座\";\r\n        \r\n      } else {\r\n        this.holder=\"经济舱\";\r\n        \r\n      }\r\n    },\r\n\r\n    loadAll() {\r\n      return [\r\n        {\r\n          company_name: \"东方航空\",\r\n          vehicle_id: \"MU5099\",\r\n          start_time: \"7:00\",\r\n          end_time: \"9:15\",\r\n          from: \"上海\",\r\n          to: \"北京\",\r\n          price: \"666\",\r\n        },\r\n        {\r\n          company_name: \"中国国际航空\",\r\n          vehicle_id: \"CA1832\",\r\n          start_time: \"11:30\",\r\n          end_time: \"14:55\",\r\n          from: \"上海\",\r\n          to: \"北京\",\r\n          price: \"748\",\r\n        },\r\n        {\r\n          company_name: \"吉祥航空\",\r\n          vehicle_id: \"HO5809\",\r\n          start_time: \"15:00\",\r\n          end_time: \"17:20\",\r\n          from: \"上海\",\r\n          to: \"北京\",\r\n          price: \"748\",\r\n        },\r\n        {\r\n          company_name: \"东方航空\",\r\n          vehicle_id: \"MU3029\",\r\n          start_time: \"17:00\",\r\n          end_time: \"20:20\",\r\n          from: \"上海\",\r\n          to: \"北京\",\r\n          price: \"1044\",\r\n        }\r\n      ];\r\n    },\r\n  },\r\n  created() {\r\n    this.formInline.state1=this.$route.query.from;\r\n    this.formInline.ticket_type=this.$route.query.ticket_type;\r\n    this.formInline.state2=this.$route.query.to;\r\n    this.formInline.seat_type=this.$route.query.seat_type;\r\n\r\n    this.tableData = this.loadAll();\r\n    this.restaurants = this.loadAll2();\r\n    this.$axios.put(\r\n          \"http://49.234.18.247:8080/api/OfferTrafficService/VEHILCE123\",\r\n          {\r\n              \"vehiclE_ID\": \"VEHICLE123\",\r\n             \"companY_ID\": \"3214567890\",\r\n              \"traffiC_TYPE\": \"火车\"\r\n          })\r\n          .then(response => (\r\n\r\nconsole.log(response)\r\n\r\n))\r\n  },\r\n  computed:{\r\n    show_company(){\r\n      var s=new Set();\r\n      for(let i=0;i<this.tableData.length;i++){\r\n        s.add(this.tableData[i].company_name);\r\n      }\r\n      return Array.from(s);\r\n    }\r\n  }\r\n};\r\n</script>"]}]}